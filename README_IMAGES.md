# Импорт товаров и изображений

## Структура папки с изображениями

```
C:\Users\Вітання!\Desktop\pictr\
├── iPhone-17-Pro-Max\
│   ├── 01-main.webp
│   ├── 02-side.webp
│   ├── Orange-256GB\
│   │   ├── 01-main.webp
│   │   └── 02-back.webp
│   ├── Silver-512GB\
│   │   └── 01-main.webp
│   └── Deep-Blue-1TB\
│       └── 01-main.webp
├── MacBook-Pro-16\
│   ├── 01-main.webp
│   ├── Space-Gray-16GB-512GB\
│   │   └── 01-main.webp
│   └── Silver-32GB-1TB\
│       └── 01-main.webp
└── Dyson-V15-Detect\
    ├── 01-main.webp
    ├── Red\
    │   └── 01-main.webp
    └── Blue\
        └── 01-main.webp
```

## Правила

1. **Каждая папка = один товар**
   - Название папки используется как slug продукта
   - Автоматически определяется бренд и модель

2. **Подпапки = варианты**
   - Подпапки содержат варианты товара (цвет, память, размер)
   - Название подпапки парсится для извлечения атрибутов варианта

3. **Первая картинка = главная**
   - Изображения сортируются по имени файла
   - Первое изображение используется как главное

4. **Формат изображений**
   - Поддерживаются: `.jpg`, `.jpeg`, `.png`, `.webp`, `.gif`
   - Рекомендуется использовать `.webp` для оптимизации

## Настройка

1. Создайте файл `.env.local`:
```env
IMAGES_PATH=C:\Users\Вітання!\Desktop\pictr
```

2. Запустите импорт:
```bash
npm run db:seed
```

## API для изображений

- `/api/images/[...path]` - Прямая загрузка изображений из файловой системы
- `/api/products/images?product=slug&variant=id` - Получение изображений продукта/варианта

## Обработка ошибок

- Если изображение не найдено, возвращается прозрачный 1x1 PNG placeholder
- UI не ломается при отсутствии изображений
- Все изображения используют `object-fit: contain` и фон карточки
